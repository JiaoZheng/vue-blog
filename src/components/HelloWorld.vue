<template>
  <div class="hello" style="margin-top:15px;">
    <Row>
      <Col span="12" offset="2" style='min-width:470px;margin-top: 15px;'>
      <ul class="article-list"  >
        <li class="article-list-li">
          <a  class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a  v-on:click="goArticle">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a >用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>
        <li class="article-list-li">
          <a href="user/home.html" class="article-list-avatar">
            <img src="../assets/images/default.png" alt="">
          </a>
          <h2 class="article-tip">
            <a href="jie/detail.html">这是标题</a>
          </h2>
          <p class="article-abstract">
            这是文章内容的简介部分！！！！！！！！阿斯达啊撒 啊是 阿斯达 阿斯达 的飒飒大胆看上了你懒惰了哪里你了那里看到哪里；是你的；案例可能的；按啦啦你拉倒了你懒死了哪里你看了哪里阿兰的李娜；李达康哪里看你兰兰你拉拉手哪里哪里呢
          </p>
          <p>
            <span>
              <a href="user/home.html">用户昵称</a>
            </span>
            <span>1小时前</span>
            <span>js问题集合</span>
            <span class="article-list-hint">
              <a>
                <Icon type="chatbox-working"></Icon>8
                <Icon type="ios-eye"></Icon>106
              </a>
            </span>
          </p>

        </li>

      </ul>
      </Col>
      <Col span="6" offset="2">
      <div class="personal-content">
        <div class="personal-avatar">
          <img src="../assets/images/timg.jpeg" alt=""/>
          <p>Chevalier</p>
        </div>
        <div class="motto">
          <h2>
            Try will not die
          </h2>
        </div>
        <div class='contact'>
           <Tooltip content="luanxuechaowd@gmail.com" placement="right-end">
            <Icon type="ios-email" size='50'></Icon>
          </Tooltip>
          <a href="https://github.com/luanxuechao">
            <Icon type="social-github" size='50'></Icon>
          </a>
          <Tooltip content="微信号:Chevalierwd" placement="top">
            <Icon type="ios-chatbubble" size='50'></Icon>
          </Tooltip>
        </div>
      </div>
      <div  v-if='!user.nickName' class="left-login">
        <div class="button">
        <Button @click="goLogin()" type="primary">登录</Button>
        <Button @click="goRegister()" type="info">注册</Button>
        </div>
      </div>
       <div class="left-personal" v-if='user.nickName'>
       <div style="height:36px;background:#eee;width:100%;line-height:36px;width:100%；">
          <span style='font-size:18px;' >个人信息</span>
       </div>
       <div class="demo-avatar" style='height:50px;margin:10px;'>
         <Identicon shape="square" icon="person" size="large" v-bind:_text="user.nickName" style='vertical-align: middle;'/>
            <!-- <Avatar shape="square" icon="person" size="large" v-bind:src="user.picName" style='vertical-align: middle;'/> -->
            <span style="font-size:18px;padding-left:10px;line-height:50px;vertical-align: middle;">{{user.nickName}}</span>
        </div>
        <h3 style='margin-left:10px;'>"{{user.motto}}"</h3>
        <Button @click="logout()" type="default" style='float:right;margin:0 10px 10px 0px'>退出</Button>
      </div>
      <div class="hot-content">
        <div class="title">
          <a>热门文章</a>
        </div>
        <ul class="hot-content-main">
          <li>
            <a>这是一个标题</a>
          </li>
          <li>
            <a>这是一个标题</a>
          </li>
          <li>
            <a>这是一个标题</a>
          </li>
          <li>
            <a>这是一个标题</a>
          </li>
          <li>
            <a>这是一个标题</a>
          </li>
        </ul>
      </div>
      </Col>
    </Row>
  </div>
</template>
import  "../assets/css/article.css"
<script>
import Cookies from 'js-cookie'
import {identicon} from 'sosnail'
import Identicon from './avatar/Identicon'
export default {
  name: 'HelloWorld',
  components:{
    Identicon
  },
  data() {
    //  console.log(identicon({'text': 'luanxuechao'}));
    return {
      user:{
          nickName:Cookies.get('nickName'),
          motto:'只想做你的骑士',
      },
      movieList: [
        {
          name: '肖申克的救赎',
          url: 'https://movie.douban.com/subject/1292052/',
          rate: 9.6
        },
        {
          name: '这个杀手不太冷',
          url: 'https://movie.douban.com/subject/1295644/',
          rate: 9.4
        },
        {
          name: '霸王别姬',
          url: 'https://movie.douban.com/subject/1291546/',
          rate: 9.5
        },
        {
          name: '阿甘正传',
          url: 'https://movie.douban.com/subject/1292720/',
          rate: 9.4
        },
        {
          name: '美丽人生',
          url: 'https://movie.douban.com/subject/1292063/',
          rate: 9.5
        },
        {
          name: '千与千寻',
          url: 'https://movie.douban.com/subject/1291561/',
          rate: 9.2
        },
        {
          name: '辛德勒的名单',
          url: 'https://movie.douban.com/subject/1295124/',
          rate: 9.4
        },
        {
          name: '海上钢琴师',
          url: 'https://movie.douban.com/subject/1292001/',
          rate: 9.2
        },
        {
          name: '机器人总动员',
          url: 'https://movie.douban.com/subject/2131459/',
          rate: 9.3
        },
        {
          name: '盗梦空间',
          url: 'https://movie.douban.com/subject/3541415/',
          rate: 9.2
        }
      ],
      randomMovieList: []
    }
  },
  methods: {
    changeLimit() {
      function getArrayItems(arr, num) {
        const temp_array = [];
        for (let index in arr) {
          temp_array.push(arr[index]);
        }
        const return_array = [];
        for (let i = 0; i < num; i++) {
          if (temp_array.length > 0) {
            const arrIndex = Math.floor(Math.random() * temp_array.length);
            return_array[i] = temp_array[arrIndex];
            temp_array.splice(arrIndex, 1);
          } else {
            break;
          }
        }
        return return_array;
      }
      this.randomMovieList = getArrayItems(this.movieList, 5);
    },
    goArticle(){
      this.$router.push({ path: '/ArticleDetail' });
    },
    goLogin(){
      this.$router.push({ path: '/Login' });
    },
     goRegister(){
      this.$router.push({ path: '/Register' });
    },
    logout(){
      this.$store.dispatch('LogOut').then((res) =>{
        this.$Message.success("注销成功");
        this.user.nickName= Cookies.get('nickName');
      }).catch((err) =>{
          this.$Message.error('注销出了点问题！', err);
      });
    }
  },
  mounted() {
    this.changeLimit();
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
